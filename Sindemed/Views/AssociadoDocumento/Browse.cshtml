@using Sindemed.Models.Repositories
@using App_Dominio.Repositories
@model System.Web.Mvc.PagedList<Sindemed.Models.Repositories.AssociadoDocumentoViewModel>
@{
    ViewBag.Title = "Sindmed";
    ViewBag.Header = "Vincular documentos";
}
<div class="row" style="margin-top: 10px">
    <div class="col-md-12">
        <div class="panel panel-default" style="padding: -2px">
            <div class="panel-heading" style="padding: 0px; height: 50px">
                @Html.Partial("_Filter", Model)
            </div>
            <div class="panel-body">
                <div id="div-list">
                    @Html.Partial("ListAssociadoDocumento", Model)
                </div>
            </div>
            <div class="panel-footer">
                <div class="col-lg-offset-10">
                    @Html.ActionLink("Incluir", "Create", "AssociadoDocumento", routeValues: new { associadoId = Request["associadoId"] }, htmlAttributes: new { @class = "btn btn-default" })<span>&nbsp;</span>
                    @Html.ActionLink("Upload", "Upload", "AssociadoDocumento", null, new { @class = "btn btn-primary" })<span>&nbsp;</span>
                </div>
            </div>
        </div>
    </div>
</div>

<span class="btn btn-success fileinput-button">
    <i class="glyphicon glyphicon-plus"></i>
    <span>Select files...</span>
    <!-- The file input field used as target for the file upload widget -->
    <input id="fileupload" type="file" name="files[]" multiple>
</span>
<br>
<br>
<!-- The global progress bar -->
<div id="progress" class="progress">
    <div class="progress-bar progress-bar-success"></div>
</div>
<!-- The container for the uploaded files -->
<div id="files" class="files"></div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<!-- The jQuery UI widget factory, can be omitted if jQuery UI is already included -->
<script src="js/vendor/jquery.ui.widget.js"></script>
<!-- The Iframe Transport is required for browsers without support for XHR file uploads -->
<script src="js/jquery.iframe-transport.js"></script>
<!-- The basic File Upload plugin -->
<script src="js/jquery.fileupload.js"></script>
<!-- Bootstrap JS is not required, but included for the responsive demo navigation -->
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
<script>
    /*jslint unparam: true */
    /*global window, $ */
    $(function () {
        'use strict';
        // Change this to the location of your server-side upload handler:
        //var url = window.location.hostname === 'blueimp.github.io' ?
        //            '//jquery-file-upload.appspot.com/' : 'server/php/';

        var url = window.location.hostname === '~/../Users_Data/';

        $('#fileupload').fileupload({
            url: url,
            dataType: 'json',
            done: function (e, data) {
                $.each(data.result.files, function (index, file) {
                    $('<p/>').text(file.name).appendTo('#files');
                });
            },
            progressall: function (e, data) {
                var progress = parseInt(data.loaded / data.total * 100, 10);
                $('#progress .progress-bar').css(
                    'width',
                    progress + '%'
                );
            }
        }).prop('disabled', !$.support.fileInput)
            .parent().addClass($.support.fileInput ? undefined : 'disabled');
    });
</script>



@*http://localhost:48260/Scripts/Js/jQuery-file-Upload-master/basic.html*@


