@model System.Web.Mvc.PagedList<Sindemed.Models.Repositories.ChamadoViewModel>
@{
    Layout = null;
}
@if (Model != null && Model.Count > 0)
{
    <div class="row Scroll">
        <div class="col-md-12 column">
            <table class="table table-hover table-bordered table-condensed" style="cursor: pointer; padding: 0px">
                <caption></caption>
                <thead style="background-color: #fff1a5">
                    <tr>
                        <th style="text-align: center">Ação</th>
                        <th style="text-align: center">Data</th>
                        <th style="text-align: center">ID</th>
                        <th>Assunto</th>
                        <th style="text-align: center">Área</th>
                        <th style="text-align: center">Situação</th>
                    </tr>
                </thead>
                @foreach (Sindemed.Models.Repositories.ChamadoViewModel cham in Model)
                {
                    <tr>
                        <td style="width: 20%">
                            <div class="row" style="padding: 0px">
                                <div class="col-md-12">
                                    <div class="btn-group btn-group-xs">
                                        <button class="btn btn-sm" type="button">
                                            @if (cham.situacao == "A")
                                            {
                                            <em class="glyphicon glyphicon-edit"></em> @Html.ActionLink("Responder", "Create", "Atendimento", routeValues: new Sindemed.Models.Repositories.AtendimentoViewModel() { chamadoId = cham.chamadoId, fluxo = "1" }, htmlAttributes: new { @style = "text-decoration: none; color: #646464" })
                                            }
                                            else
                                            {
                                                <em class="glyphicon glyphicon-edit"></em> <span style="text-decoration: none; color: #646464; cursor: text">Responder</span>
                                            }
                                        </button>
                                        <button class="btn btn-sm" type="button">
                                            <em class="glyphicon glyphicon-list-alt"></em> @Html.ActionLink("Detalhar", "Detail", "Atendimento", routeValues: new { chamadoId = cham.chamadoId, fluxo = "1" }, htmlAttributes: new { @style = "text-decoration: none; color: #646464" })
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td style="width: 15%; text-align: center">
                            @cham.dt_chamado.ToString("dd/MM/yyyy HH:mm")
                        </td>
                        <td style="width: 5%; text-align: center">
                            @cham.chamadoId
                        </td>
                        <td style="width: 40%">
                            @cham.assunto
                        </td>
                        <td style="width: 15%; text-align: center">
                            @cham.descricao_areaAtendimento
                        </td>
                        <td style="width: 5%; text-align: center">
                            @(cham.situacao == "A" ? "Aberto" : "Fechado")
                        </td>
                    </tr>
                }
            </table>
        </div>
    </div>
    @Html.Partial("Paginacao", Model)
}
else
{
    @Html.Partial("_AcessoNegadoModal")
}
