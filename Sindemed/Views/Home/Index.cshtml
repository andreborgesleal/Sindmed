@using Sindemed.Models.Repositories
@model ComunicacaoGlobalViewModel
@{
    ViewBag.Title = "Sindmed";
}

@*<div class="jumbotron">
    <h1>ASP.NET</h1>
    <p class="lead">ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS and JavaScript.</p>
    <p><a href="http://asp.net" class="btn btn-primary btn-large">Learn more &raquo;</a></p>
</div>*@

<!-- --------------------------------------Começo do carrossel------------------------------------>
<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#carousel-example-generic" data-slide-to="0"></li>
        <li data-target="#carousel-example-generic" data-slide-to="1"></li>
        <li data-target="#carousel-example-generic" data-slide-to="2"></li>
        <li data-target="#carousel-example-generic" data-slide-to="3"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner">
        <div class="item active">
            <img src="~/Content/images/saude1.jpg" />
            <div class="carousel-caption"></div>
        </div>
        <div class="item">
            <img src="~/Content/images/saude2.jpg" />
            <div class="carousel-caption"></div>
        </div>
        <div class="item">
            <img src="~/Content/images/saude3.jpg" />
            <div class="carousel-caption"></div>
        </div>
        <div class="item">
            <img src="~/Content/images/saude4.jpg" />
            <div class="carousel-caption"></div>
        </div>
    </div>

    <!-- Controls -->
    <a class="left carousel-control" href="#carousel-example-generic" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left"></span>
    </a>
    <a class="right carousel-control" href="#carousel-example-generic" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right"></span>
    </a>
</div>
<!-- --------------------------------------FIM do carrossel----------------------------------------->
<div class="row">
    <div class="col-md-4">
        <h2>@Model.com.Where(info => info.dt_comunicacao <= DateTime.Today && info.grupoAssociadoId == null).FirstOrDefault().cabecalho</h2>
        <p>
            @Model.com.Where(info => info.dt_comunicacao <= DateTime.Today && info.grupoAssociadoId == null).FirstOrDefault().resumo
        </p>
        <p><a class="btn btn-default" href="#modal-container-964987a" data-toggle="modal">Leia mais &raquo;</a></p>
    </div>
    <div class="col-md-4">
        <h2>@Model.com.Where(info => info.dt_comunicacao <= DateTime.Today && info.grupoAssociadoId == null).Skip(1).FirstOrDefault().cabecalho</h2>
        <p>@Model.com.Where(info => info.dt_comunicacao <= DateTime.Today && info.grupoAssociadoId == null).Skip(1).FirstOrDefault().resumo</p>
        <p><a class="btn btn-default" href="#modal-container-964987b" data-toggle="modal">Leia mais &raquo;</a></p>
    </div>
    <div class="col-md-4">
        <h2>@Model.com.Where(info => info.dt_comunicacao <= DateTime.Today && info.grupoAssociadoId == null).Skip(2).FirstOrDefault().cabecalho</h2>
        <p>@Model.com.Where(info => info.dt_comunicacao <= DateTime.Today && info.grupoAssociadoId == null).Skip(2).FirstOrDefault().resumo</p>
        <p><a class="btn btn-default" href="#modal-container-964987c" data-toggle="modal">Leia mais &raquo;</a></p>
    </div>
</div>    


@***********Formulário Modal Botão 1**************@
<div class="modal fade" id="modal-container-964987a" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title" id="myModalLabel">
                    @Model.com.Where(info => info.dt_comunicacao <= DateTime.Today && info.grupoAssociadoId == null).FirstOrDefault().cabecalho
                </h4>
            </div>
            <div class="modal-body">
                  @Html.DisplayTextFor(info => info.com.Where(com => com.dt_comunicacao <= DateTime.Today && com.grupoAssociadoId == null).FirstOrDefault().mensagemDetalhada)
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button> 
            </div>
        </div>

    </div>

</div>

@***********Formulário Modal Botão 2**************@
<div class="modal fade" id="modal-container-964987b" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="myModalLabel">
                        @Model.com.Where(info => info.dt_comunicacao <= DateTime.Today && info.grupoAssociadoId == null).Skip(1).FirstOrDefault().cabecalho
                    </h4>
                </div>
                <div class="modal-body">
                    @Html.DisplayTextFor(info => info.com.Where(com => com.dt_comunicacao <= DateTime.Today && com.grupoAssociadoId == null).Skip(1).FirstOrDefault().mensagemDetalhada)
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                </div>
            </div>

        </div>

    </div>

@***********Formulário Modal Botão 3**************@
<div class="modal fade" id="modal-container-964987c" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="myModalLabel">
                        @Model.com.Where(info => info.dt_comunicacao <= DateTime.Today && info.grupoAssociadoId == null).Skip(2).FirstOrDefault().cabecalho
                    </h4>
                </div>
                <div class="modal-body">
                    @Html.DisplayTextFor(info => info.com.Where(com => com.dt_comunicacao <= DateTime.Today && com.grupoAssociadoId == null).Skip(2).FirstOrDefault().mensagemDetalhada)
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                </div>
            </div>

        </div>

    </div>

@*********** Mensagens de Grupos Específicos Ao Médico (Featurette) **************@
@if (Model.comGrupo != null && Model.comGrupo.Count() > 0)
{
    <hr class="featurette-divider">

    <div class="row featurette">
        <div class="col-md-12">
            <h2 class="featurette-heading">@Model.comGrupo.Where(info => info.dt_comunicacao <= DateTime.Today).FirstOrDefault().cabecalho</h2>
            <p class="lead">@Model.comGrupo.Where(info => info.dt_comunicacao <= DateTime.Today).FirstOrDefault().resumo</p>
            <p><a class="btn btn-primary" href="#modal-container-964987d" data-toggle="modal">Leia mais &raquo;</a></p>
        </div>
    </div>

    if (Model.comGrupo.Count() > 1)
    {
        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-12">
                <h2 class="featurette-heading">@Model.comGrupo.Where(info => info.dt_comunicacao <= DateTime.Today).Skip(1).FirstOrDefault().cabecalho</h2>
                <p class="lead">@Model.comGrupo.Where(info => info.dt_comunicacao <= DateTime.Today).Skip(1).FirstOrDefault().resumo</p>
                <p><a class="btn btn-primary" href="#modal-container-964987e" data-toggle="modal">Leia mais &raquo;</a></p>
            </div>
        </div>
    }


    if (Model.comGrupo.Count() > 2)
    {
        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-12">
                <h2 class="featurette-heading">@Model.comGrupo.Where(info => info.dt_comunicacao <= DateTime.Today).Skip(2).FirstOrDefault().cabecalho</h2>
                <p class="lead">@Model.comGrupo.Where(info => info.dt_comunicacao <= DateTime.Today).Skip(2).FirstOrDefault().resumo</p>
                <p><a class="btn btn-primary" href="#modal-container-964987f" data-toggle="modal">Leia mais &raquo;</a></p>
            </div>
        </div>
    }


    @***********  FIM das Mensagens (Featurette) **************@
    @***********Formulário Modal Botão 1 - Mensagens Específicas **************@
    <div class="modal fade" id="modal-container-964987d" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="myModalLabel">
                        @Model.comGrupo.Where(info => info.dt_comunicacao <= DateTime.Today).FirstOrDefault().cabecalho
                    </h4>
                </div>
                <div class="modal-body">
                    @Html.DisplayTextFor(info => info.comGrupo.Where(m => m.dt_comunicacao <= DateTime.Today).FirstOrDefault().mensagemDetalhada)
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Fechar</button>
                </div>
            </div>

        </div>

    </div>

    @***********Formulário Modal Botão 2 Mensagens Específicas**************@
    if (Model.comGrupo.Count() > 1)
    {
        <div class="modal fade" id="modal-container-964987e" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h4 class="modal-title" id="myModalLabel">
                            @Model.comGrupo.Where(info => info.dt_comunicacao <= DateTime.Today).Skip(1).FirstOrDefault().cabecalho
                        </h4>
                    </div>
                    <div class="modal-body">
                        @Html.DisplayTextFor(info => info.comGrupo.Where(m => m.dt_comunicacao <= DateTime.Today).Skip(1).FirstOrDefault().mensagemDetalhada)
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Fechar</button>
                    </div>
                </div>

            </div>

        </div>
    }

    @***********Formulário Modal Botão 3 Mensagens Específicas**************@
    if (Model.comGrupo.Count() > 2)
    {
        <div class="modal fade" id="modal-container-964987f" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h4 class="modal-title" id="myModalLabel">
                            @Model.comGrupo.Where(info => info.dt_comunicacao <= DateTime.Today).Skip(2).FirstOrDefault().cabecalho
                        </h4>
                    </div>
                    <div class="modal-body">
                        @Html.DisplayTextFor(info => info.comGrupo.Where(m => m.dt_comunicacao <= DateTime.Today).Skip(2).FirstOrDefault().mensagemDetalhada)
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Fechar</button>
                    </div>
                </div>

            </div>

        </div>
    }
}
